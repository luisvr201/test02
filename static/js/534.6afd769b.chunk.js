"use strict";(self.webpackChunkauto_mindmapping=self.webpackChunkauto_mindmapping||[]).push([[534],{4534:(t,e,o)=>{o.d(e,{diagram:()=>I});var s=o(8978),a=o(8433),n=o(9836),c=o(2954),i=o(3154),r=o(4299),d=o(5178);o(8703),o(7892),o(8584),o(7351),o(504);const l="rect",p="rectWithTitle",g="statediagram",b="".concat(g,"-").concat("state"),h="transition",u="".concat(h," ").concat("note-edge"),y="".concat(g,"-").concat("note"),f="".concat(g,"-").concat("cluster"),m="".concat(g,"-").concat("cluster-alt"),w="parent",x="note",v="----",T="".concat(v).concat(x),S="".concat(v).concat(w),k="fill:none",D="fill: #333",A="text",B="normal";let E={},C=0;function R(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v;const a=null!==o&&o.length>0?"".concat(s).concat(o):"";return"".concat("state","-").concat(t).concat(a,"-").concat(e)}const V=(t,e,o,a,n,i)=>{const r=o.id,d=void 0===(g=a[r])||null===g?"":g.classes?g.classes.join(" "):"";var g;if("root"!==r){let e=l;!0===o.start&&(e="start"),!1===o.start&&(e="end"),o.type!==s.a&&(e=o.type),E[r]||(E[r]={id:r,shape:e,description:c.d.sanitizeText(r,(0,c.g)()),classes:"".concat(d," ").concat(b)});const a=E[r];o.description&&(Array.isArray(a.description)?(a.shape=p,a.description.push(o.description)):a.description.length>0?(a.shape=p,a.description===r?a.description=[o.description]:a.description=[a.description,o.description]):(a.shape=l,a.description=o.description),a.description=c.d.sanitizeTextOrArray(a.description,(0,c.g)())),1===a.description.length&&a.shape===p&&(a.shape=l),!a.type&&o.doc&&(c.l.info("Setting cluster for ",r,M(o)),a.type="group",a.dir=M(o),a.shape=o.type===s.b?"divider":"roundedWithTitle",a.classes=a.classes+" "+f+" "+(i?m:""));const n={labelStyle:"",shape:a.shape,labelText:a.description,classes:a.classes,style:"",id:r,dir:a.dir,domId:R(r,C),type:a.type,padding:15};if(o.note){const e={labelStyle:"",shape:"note",labelText:o.note.text,classes:y,style:"",id:r+T+"-"+C,domId:R(r,C,x),type:a.type,padding:15},s={labelStyle:"",shape:"noteGroup",labelText:o.note.text,classes:a.classes,style:"",id:r+S,domId:R(r,C,w),type:"group",padding:0};C++;const c=r+S;t.setNode(c,s),t.setNode(e.id,e),t.setNode(r,n),t.setParent(r,c),t.setParent(e.id,c);let i=r,d=e.id;"left of"===o.note.position&&(i=e.id,d=r),t.setEdge(i,d,{arrowhead:"none",arrowType:"",style:k,labelStyle:"",classes:u,arrowheadStyle:D,labelpos:"c",labelType:A,thickness:B})}else t.setNode(r,n)}e&&"root"!==e.id&&(c.l.trace("Setting node ",r," to be child of its parent ",e.id),t.setParent(r,e.id)),o.doc&&(c.l.trace("Adding nodes children "),N(t,o,o.doc,a,n,!i))},N=(t,e,o,a,n,i)=>{c.l.trace("items",o),o.forEach((o=>{switch(o.stmt){case s.c:case s.a:V(t,e,o,a,n,i);break;case s.S:{V(t,e,o.state1,a,n,i),V(t,e,o.state2,a,n,i);const s={id:"edge"+C,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:k,labelStyle:"",label:c.d.sanitizeText(o.description,(0,c.g)()),arrowheadStyle:D,labelpos:"c",labelType:A,thickness:B,classes:h};t.setEdge(o.state1.id,o.state2.id,s,C),C++}}}))},M=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.e;if(t.doc)for(let o=0;o<t.doc.length;o++){const s=t.doc[o];"dir"===s.stmt&&(e=s.value)}return e},z={setConf:function(t){const e=Object.keys(t);for(const o of e)t[o]},getClasses:function(t,e){c.l.trace("Extracting classes"),e.db.clear();try{return e.parser.parse(t),e.db.extract(e.db.getRootDocV2()),e.db.getClasses()}catch(o){return o}},draw:function(t,e,o,p){c.l.info("Drawing state diagram (v2)",e),E={};let b=p.db.getDirection();void 0===b&&(b=s.D);const{securityLevel:h,state:u}=(0,c.g)(),y=u.nodeSpacing||50,f=u.rankSpacing||50;c.l.info(p.db.getRootDocV2()),p.db.extract(p.db.getRootDocV2()),c.l.info(p.db.getRootDocV2());const m=p.db.getStates(),w=new a.k({multigraph:!0,compound:!0}).setGraph({rankdir:M(p.db.getRootDocV2()),nodesep:y,ranksep:f,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));let x;V(w,void 0,p.db.getRootDocV2(),m,p.db,!0),"sandbox"===h&&(x=(0,n.Ys)("#i"+e));const v="sandbox"===h?(0,n.Ys)(x.nodes()[0].contentDocument.body):(0,n.Ys)("body"),T=v.select('[id="'.concat(e,'"]')),S=v.select("#"+e+" g");(0,i.r)(S,w,["barb"],g,e);d.u.insertTitle(T,"statediagramTitleText",u.titleTopMargin,p.db.getDiagramTitle());const k=T.node().getBBox(),D=k.width+16,A=k.height+16;T.attr("class",g);const B=T.node().getBBox();(0,r.c)(T,A,D,u.useMaxWidth);const C="".concat(B.x-8," ").concat(B.y-8," ").concat(D," ").concat(A);c.l.debug("viewBox ".concat(C)),T.attr("viewBox",C);const R=document.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const s of R){const t=s.getBBox(),e=document.createElementNS("http://www.w3.org/2000/svg",l);e.setAttribute("rx",0),e.setAttribute("ry",0),e.setAttribute("width",t.width),e.setAttribute("height",t.height),s.insertBefore(e,s.firstChild)}}},I={parser:s.p,db:s.d,renderer:z,styles:s.s,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,s.d.clear()}}}}]);
//# sourceMappingURL=534.6afd769b.chunk.js.map